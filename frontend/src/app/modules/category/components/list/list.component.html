<div class="list-page {{theme}}">
    <div class="list" *ngIf="loading">
        <div class="list-header">
            <img src="/assets/svg/logo.svg" height="100" alt="logo FORIA">
            <p>A forum about <b>IA</b></p>
            <div class="option-btns">
                <button type="button" (click)="toogleSections()">{{allSections ? 'Revel Sections':
                    'Ocult Sections'}}</button>
            </div>
        </div>
        <div class="list-body">
            <ul>
                <li *ngFor="let _ of [0, 1]" class="section">
                    <fieldset>
                        <legend>
                            <span><app-loading height="36px" width="200px"></app-loading></span>
                        </legend>
                        <ul>
                            <li *ngFor="let _ of [0, 1]" class="categories">
                                <div class="category" >
                                    <h2><app-loading height="30px" width="500px"></app-loading></h2>
                                    <p><app-loading height="50px" width="100%"></app-loading></p>
                                </div>
                                <div class="last-post">
                                    <div class="text">
                                        <h3><app-loading height="25px" width="80px"></app-loading>
                                        </h3>
                                        <h4>
                                            <app-loading height="20px" width="90px"></app-loading>
                                        </h4>
                                        <h5><app-loading height="15px" width="70px"></app-loading></h5>
                                    </div>
                                    <div class="user">
                                        <app-loading height="75px" width="75px" appa="circle"></app-loading>
                                    </div>
                                </div>
                            </li>
                        </ul>
                    </fieldset>
                </li>
            </ul>
        </div>
        <div class="list-footer">
            <app-loading height="30px" width="100px"></app-loading>
        </div>
    </div>

    <div class="list" *ngIf="!loading">
        <div class="list-header">
            <img src="/assets/svg/logo.svg" height="100" alt="logo FORIA">
            <p>A forum about <b>IA</b></p>
            <div class="option-btns">
                <button type="button" (click)="toogleSections()">{{allSections ? 'Revel Sections':
                    'Ocult Sections'}}</button>
            </div>
        </div>
        <div class="list-body">
            <ul>
                <li *ngFor="let section of forum" class="section">
                    <fieldset>
                        <legend>
                            <h1 (click)="toggle(section.name)"><fa-icon [icon]="['fas', ocults[section.name] ? 'chevron-right': 'chevron-down']"></fa-icon> {{section.name | capitalize}}</h1>
                        </legend>
                        <ul [ngClass]="{'ocult': ocults[section.name]}">
                            <li *ngFor="let category of section.categories" class="categories">
                                <div class="category" routerLink="/category/{{category.id}}">
                                    <h2>{{category.title | capitalize}}</h2>
                                    <p>{{category.description}}</p>
                                    <img *ngIf="category.image" src="{{category.image}}"
                                        alt="Image of {{category.title}}">
                                </div>
                                <div class="last-post" *ngIf="category.lastPost">
                                    <div class="text">
                                        <h3><a routerLink="/topic/{{category.lastPost.topic.id}}"
                                                [queryParams]="{'page': category.lastPost.created_at}" fragment="last">
                                                {{ ((category.lastPost.topic.title.length > 8) ?
                                                (category.lastPost.topic.title |
                                                slice:0:8)+'...':(category.lastPost.topic.title)) | capitalize}}</a>
                                        </h3>
                                        <h4>
                                            <a
                                                routerLink="/user/profile/{{category.lastPost.user.id}}">{{category.lastPost.user.nick}}</a>
                                        </h4>
                                        <h5>{{category.lastPost.created_at | ago }}</h5>
                                    </div>
                                    <div class="user">
                                        <app-avatar [user]="category.lastPost.user" [width]="'75'"
                                            [height]="'75'"></app-avatar>
                                    </div>
                                </div>
                            </li>
                        </ul>
                    </fieldset>
                </li>
            </ul>
        </div>
        <div class="list-footer">
            <button type="button" (click)="scrollToTop()">Back to top</button>
        </div>
    </div>
</div>